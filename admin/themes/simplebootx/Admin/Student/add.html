<admintpl file="header" />
<link rel="stylesheet" type="text/css" href="css/bootstrap-3.3.4.css">
</head>
<body>
<div class="wrap">
	<ul class="nav nav-tabs">
		<li><a href="{:U('Admin/Student/index')}">{:L('STUDENT_USER_INDEX')}</a></li>
		<li class="active"><a href="{:U('Admin/Student/add')}">{:L('STUDENT_USER_ADD')}</a></li>
	</ul>
	<form method="post" class="form-horizontal js-ajax-form" action="{:U('Admin/Student/add_post')}">
		<fieldset>
			<h4 class="lighter">
				<i class="icon-hand-right icon-animated-hand-pointer blue"></i>
				<a href="#" data-toggle="modal" class="pink">学生信息</a>
			</h4>
			<div class="row-fluid">
				<div class="span10">
					<table class="table table-bordered">
						<tr>
							<th width="80">{:L('STUDENT_NAME')}</th>
							<td>
								<input type="text" name="name" placeholder="请输入{:L('STUDENT_NAME')}">
							</td>
							<th width="80">{:L('STUDENT_SEX')}</th>
							<td>
								<label class="radio"><input type="radio" name="sex" value="1" checked>男</label>
								<label class="radio"><input type="radio" name="sex" value="2">女</label>
							</td>
						</tr>
						<tr>
							<th width="80">{:L('STUDENT_AGE')}</th>
							<td>
								<input type="text" name="age" placeholder="请输入{:L('STUDENT_AGE')}">
							</td>
							<th width="80">{:L('STUDENT_MOBILE')}</th>
							<td>
								<input type="text" name="mobile" placeholder="请输入{:L('STUDENT_MOBILE')}">
							</td>
						</tr>
						<tr>
							<th width="80">{:L('BIRTHDAY')}</th>
							<td>
								<input class="js-date" type="text" id="input-birthday" placeholder="请输入{:L('BIRTHDAY')}" name="birthday">
							</td>
							<th width="80">{:L('ADDRESS')}</th>
							<td>
								<input type="text" name="address" placeholder="请输入{:L('ADDRESS')}">
							</td>
						</tr>
						<tr>
							<th width="80">{:L('COURSE_CONSULTANT')}</th>
							<td>
								<select name="course_consultant">
									<option value="0">请选择</option>
									<foreach name="staffList" item="vo">
										<option value="{$vo.id}">{$vo.name}</option>
									</foreach>
								</select>
							</td>
							<th width="80">{:L('KINDERGARTEN')}</th>
							<td>
								<input type="text" name="kindergarten" placeholder="请输入{:L('KINDERGARTEN')}">
							</td>
						</tr>
						<tr>
							<th width="80">{:L('IN_SCHOOL')}</th>
							<td>
								<select name="school">
									<option value="0">请选择</option>
									<foreach name="schoolList" item="vo">
										<option value="{$vo.id}">{$vo.name}</option>
									</foreach>
								</select>
							</td>
							<th width="80">{:L('APPLY_DATE')}</th>
							<td>
								<input class="js-date" type="text" id="input-apply-date" placeholder="请输入{:L('BIRTHDAY')}" name="apply_date">
							</td>
						</tr>
					</table>

				</div>
			</div>
			<div class="hr hr-18 hr-double dotted"></div>
			<h4 class="lighter">
				<i class="icon-hand-right icon-animated-hand-pointer blue"></i>
				<a href="#" data-toggle="modal" class="pink">家长信息</a>
			</h4>
			<div class="row-fluid">
				<div class="span12">
					<a href="#" rel="external nofollow" rel="external nofollow" rel="external nofollow" id="AddMoreFileBox" class="btn btn-info">添加更多</a>
					<div id="InputsWrapper">
						<div>
							<input type="text" name="parentName[]" id="parentName_1" placeholder="家长姓名"/>
							<input type="text" name="relationship[]" id="relationship_1" placeholder="关系"/>
							<input type="text" name="phone[]" id="phone_1" placeholder="手机"/>
							<input type="text" name="guardian[]" id="guardian_1" placeholder="监护人"/>
							<a href="#" rel="external nofollow" rel="external nofollow" rel="external nofollow" class="removeclass">
								<input type='button' value='删除'>
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="hr hr-18 hr-double dotted"></div>
		</fieldset>
		<div class="form-actions">
			<button type="submit" class="btn btn-primary js-ajax-submit">{:L('ADD')}</button>
			<a class="btn" href="javascript:history.back(-1);">{:L('BACK')}</a>
		</div>
	</form>
</div>
<script src="__PUBLIC__/js/common.js"></script>
<script>
    $(document).ready(function() {
        var MaxInputs    = 11; //maximum input boxes allowed
        var InputsWrapper  = $("#InputsWrapper"); //Input boxes wrapper ID
        var AddButton    = $("#AddMoreFileBox"); //Add button ID
        var x = InputsWrapper.length; //initlal text box count
        var FieldCount=1; //to keep track of text box added
        $(AddButton).click(function (e) //on add input button click
        {
            if(x <= MaxInputs) //max input box allowed
            {
                FieldCount++; //text box added increment
                //add input box
                $(InputsWrapper).append(
                    '<br/><div>' +
					'<input type="text" name="parentName[]" id="parentName_'+ FieldCount +'" placeholder="家长姓名"/>' +
					'<input type="text" name="relationship[]" id="relationship_'+ FieldCount +'" placeholder="关系"/>' +
					'<input type="text" name="phone[]" id="phone_'+ FieldCount +'" placeholder="手机"/>' +
					'<input type="text" name="guardian[]" id="guardian_'+ FieldCount +'" placeholder="监护人"/>' +
                    '<a href="#" rel="external nofollow" rel="external nofollow" rel="external nofollow" class="removeclass">' +
                    '<input type="button" value="删除">' +
                    '</a>' +
                    '</div>'
                );
                x++; //text box increment
            }
            return false;
        });
        $("body").on("click",".removeclass", function(e){ //user click on remove text
            if( x > 1 ) {
                $(this).parent('div').remove(); //remove text box
                x--; //decrement textbox
            }
            return false;
        })
    });
</script>
</body>
</html>